Summary
- Rename remaining UI label to “Smart PDF to Excel” (keeps internal key smart-pdf-to-excel).
- Add UI-only per-user chat mode access management with realtime propagation and activity logging.

Changes
- Prisma: add User.allowedChatModes Json? (null = all) + migration.
- Admin API: GET/PUT /api/admin/users/[id]/chat-modes with validation, diff computation, ActivityLog (account_updated) and realtime publish.
- Realtime: publishUserAccessChanged(userId) via Pusher on channel ui-preferences, event user-access-changed; SSE /api/ui/stream now emits this event for fallback.
- User API: GET /api/user/chat-modes returning allowedChatModes (null = all).
- Client: new AllowedChatModesProvider (Pusher/SSE subscribe, refetch on event) + edge-case handling (auto-switch to default mode with toast if current mode becomes disallowed).
- UI filtering: hide disallowed modes in chat mode menu and model picker.
- Admin UI: add “Gérer l’accès aux modèles” action with modal to manage checkboxes and a “Tout autoriser” switch.

Why
- Ensures label consistency and enables admins to control visible/usable chat modes per user in real time without server-side enforcement.

Impact
- Existing users continue with all modes allowed by default.
- No server-side blocking added; UI-only enforcement and realtime updates within ~1–2s.

Notes
- ActivityLog entries include details: { type: "chat-mode-access", added: [...], removed: [...] }.
- SSE fallback event payload remains minimal: { userId }.


₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/572ee763-84af-11f0-a94e-3eef481a796b/task/37db0328-a45c-483c-80a3-90c7dfd1ca9a))