# Admin UI/UX — sidebar dédié + routes /admin sectionnées; /chat inchangé

Résumé (pourquoi)
- Clarifie l’expérience entre l’espace Admin et le chat (/chat) afin d’éviter les confusions et d’accélérer les flux d’administration.
- Introduit une navigation admin claire, en français, avec des icônes Lucide et un état persistant du panneau latéral.
- Prépare le terrain pour étendre les métriques, les logs et la gestion fine des accès sans impacter l’expérience utilisateur côté chat.

Changements principaux (quoi)
- Nouveau AdminSidebar dédié (par défaut replié 60 px, étendu 280 px) avec persistance localStorage (clé existante `admin.sidebar.open`).
  - Bouton « Retour au chat » tout en haut (ArrowLeft) → `/chat`.
  - Menu admin en FR + icônes Lucide: Utilisateurs, Tableau de bord, Journal d’activité, Métriques & KPIs, Accès aux modèles, Paramètres.
  - État actif via `usePathname()`; tooltips FR lorsque replié.
- Injection conditionnelle du sidebar selon la route dans le layout global:
  - Sur `/admin/*` → `AdminSidebar`
  - Sinon → sidebar historique (historique de conversations)
  - Drawer mobile conservé tel quel; thème inchangé.
- Routage /admin en sections avec extraction modulaire:
  - `/admin/dashboard`: KPIHeader, OnlinePanel, aperçu événements récents
  - `/admin/users`: table utilisateurs + actions + ActivityDialog + ManageAccessDialog
  - `/admin/logs`: liste des événements avec filtres
  - `/admin/metrics`: KPIHeader (prêt pour extension)
  - `/admin/access`: gestion des accès aux modèles par utilisateur (recherche email + ManageAccessDialog)
  - `/admin/settings`: placeholder réglages admin
  - Redirection `/admin` → `/admin/dashboard`
- Export centralisé des icônes Lucide nécessaires dans `packages/common/components/icons.tsx`.

Impact et non‑régression
- Côté chat: aucune régression; le sidebar historique reste inchangé et n’apparaît pas dans l’espace Admin.
- Gardes d’accès admin conservées (`apps/web/app/admin/layout.tsx`).
- Thème, providers et drawer mobile inchangés.

Fichiers clés
- Crée: `packages/common/components/layout/admin-sidebar.tsx`
- Modifie: `packages/common/components/layout/root.tsx` (injection conditionnelle), `packages/common/components/icons.tsx`, `packages/common/components/index.ts`
- Refactor/ajoute pages Admin: `apps/web/app/admin/{dashboard,users,logs,metrics,access,settings}/page.tsx`
- Redirige: `apps/web/app/admin/page.tsx` → `/admin/dashboard`
- Composants modulaires: `apps/web/app/admin/_components/{metrics,online-panel,recent-events-panel,manage-access-dialog}.tsx`

URLs à tester
- `/admin` → redirige vers `/admin/dashboard`
- `/admin/dashboard`, `/admin/users`, `/admin/logs`, `/admin/metrics`, `/admin/access`, `/admin/settings`
- Bouton « Retour au chat »: retour immédiat vers `/chat`

Notes
- Libellés en français, tooltips FR et icônes correspondantes.
- AdminSidebar replié par défaut; l’état s’enregistre dans `localStorage`.


₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/572ab1e1-84af-11f0-a94e-3eef481a796b/task/20ad563e-c35d-4c34-9743-07b14d008b31))