## Objective
Reduce initial JavaScript on /chat and improve Core Web Vitals by deferring heavy client modules (TipTap, Prism languages, framer-motion) and optimizing fonts, images, and Zustand subscriptions.

## Summary of changes
- TipTap editor is code-split and only loaded on client mount; extensions are imported on demand; a lightweight textarea fallback is shown until ready.
- PrismJS languages are loaded per CodeBlock lang via dynamic import(); highlight runs after the language is available.
- Framer Motion is removed from the critical path of /chat: AnimatedChatInput and RootLayout no longer import it; Sidebar, FeedbackWidget, and CommandSearch are lazy-loaded. Several UI components now use CSS transitions instead of framer-motion.
- Zustand usage in AnimatedChatInput consolidated to a single selector with useShallow to reduce re-renders.
- Fonts: limit Bricolage_Grotesque weights, enable display=swap and disable preload for Bricolage + local Inter/Clash to reduce initial bytes.
- Images: add loading=lazy, decoding=async, and explicit sizes to favicons/avatars/thread images to prevent CLS.

## Impact
- Significantly reduces initial JS on anonymous /chat by deferring TipTap, framer-motion, and Prism language packs.
- Keeps the core send flow (typing, model selection, upload image, web toggle) functional instantly; cosmetic animations may appear after idle.
- No auth/API changes. Visual parity maintained with lightweight transitions.

## Files touched (high-level)
- apps/web/app/layout.tsx (fonts)
- packages/common/hooks/use-editor.tsx (TipTap lazy init)
- packages/common/components/chat-input/chat-editor.tsx (EditorContent dynamic + textarea fallback)
- packages/common/components/code-block/code-block.tsx (Prism on-demand)
- packages/common/components/layout/root.tsx (lazy Sidebar/Feedback/CommandSearch; remove framer-motion)
- packages/common/components/chat-input/animated-input.tsx (no framer-motion; ExamplePrompts lazy; selectors)
- packages/ui/src/components/* (AI_Prompt/dialog/label-divider/spinner/stagger: remove framer-motion)
- packages/common/components/table-of-messages.tsx, side-bar.tsx, motion-skeleton.tsx, messages-remaining-badge.tsx (remove framer-motion)
- images: link-favicon.tsx, thread/components/image-message.tsx (CLS-safe)

## Why
- Heavy libs (@tiptap/react, framer-motion, Prism languages) were in the initial client bundle. Lazy-loading them reduces transfer and parse/execute time, improving LCP and INP on cold loads.

## Notes
- No functional changes intended. Please verify send flow, model switch, image upload, and suggestions on /chat.
- Further gains possible by lazily mounting other motion-only widgets on thread pages.


₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/572af2cb-84af-11f0-a94e-3eef481a796b/task/d7fc97d0-9e42-49c2-9317-248ec4269d8d))