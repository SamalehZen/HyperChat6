# Add Unicorn Studio background variant (opt‑in) with settings and SSR‑safe lazy load

## Overview
Adds a new animated background variant “Abanalaka anime” powered by `unicornstudio-react`. This variant is opt‑in (not the default), configurable via Settings, and rendered only on the chat home screen (when no thread is open). Loading is client‑only with `React.lazy`/`<Suspense/>` to keep SSR/build stable.

## Changes
- ui: add dependency `unicornstudio-react` in `packages/ui/package.json`.
- ui: new client component `packages/ui/src/components/unicorn-background.tsx` that measures container size, loads `unicornstudio-react` with `React.lazy`, wraps in `<Suspense/>`, and uses classes `absolute inset-0 w-full h-full pointer-events-none z-0`.
- ui: extend orchestrator `grid-gradient-background.tsx`:
  - add variant `'unicorn'` to the union type
  - route to `<UnicornBackground projectId={unicornProjectId} />`
  - accept new prop `unicornProjectId?: string`
- common/store: extend preferences store `preferences.store.ts`:
  - add `'unicorn'` to `BackgroundVariant`
  - add `unicornProjectId: string` with default `'SAMALEHARKA'`
  - add action `setUnicornProjectId(id: string)`
  - persisted with the same `preferences-storage` key
- common/components/settings-modal.tsx:
  - add background option `<option value="unicorn">{t('settings.personalization.background.unicorn')}</option>`
  - when `backgroundVariant === 'unicorn'`, show a text input bound to `unicornProjectId` with i18n label/placeholder; updates via `setUnicornProjectId`
- common/components/chat-input/{input.tsx, animated-input.tsx}:
  - read `unicornProjectId` from store and pass it to `<GridGradientBackground ... unicornProjectId={unicornProjectId} />`
  - only relevant on home screen (no thread id), matching existing patterns
- i18n: add keys in `packages/common/i18n/{fr.json,en.json}` for the new option and the project ID label/placeholder

## Acceptance Criteria
- New option “Abanalaka anime” appears in Settings → Personalization → Background style and can be selected
- Default background remains “new” for new users (no change to defaults)
- When “Abanalaka anime” is selected and user is on the chat home screen (no thread open), the Unicorn background displays using the configured project ID
- Project ID is editable in Settings (field visible only when the variant is selected) and persists in localStorage
- Background does not intercept interactions (`pointer-events-none`) and cleans up listeners on unmount
- SSR safe: no SSR/build errors; Unicorn component loads client‑side only via `React.lazy`/`<Suspense/>`

## Why
- Provide an optional, visually rich animated background for the home screen
- Keep SSR/build stable by lazy‑loading the Unicorn component only on the client
- Allow teams to supply their own Unicorn Studio project via a user‑configurable ID

## Testing notes
1) Open Settings → Personalization
2) Select Background style → “Abanalaka anime”
3) Enter your Unicorn Studio Project ID in the field that appears
4) Go to chat home (no thread open) — the Unicorn background should render using the provided ID

## Notes
- Other background variants are unchanged
- The new variant is opt‑in; it is not the default


₍ᐢ•(ܫ)•ᐢ₎ Generated by [Capy](https://capy.ai) ([view task](https://capy.ai/project/fa296dc7-f478-4d41-b8b4-bb8ec362b499/task/9dbf702f-aa32-4473-b9ea-923e4aaf1d8a))